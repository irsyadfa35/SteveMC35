<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cek Resi Paket â€” SteveMC</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

body {
  margin:0; padding:0; font-family:'Poppins',sans-serif;
  background:url('https://qu.ax/vneoG.jpg') center/cover no-repeat fixed;
  color:#fff; overflow-x:hidden;
}
.background { position:fixed; inset:0; background:url('https://qu.ax/vneoG.jpg') center/cover no-repeat; z-index:-2; }
.overlay { position:fixed; inset:0; background-color: rgba(0,0,0,0.5); backdrop-filter: blur(5px); z-index:-1; }

/* Header & menu */
.header { position:fixed; top:0; left:0; width:100%; height:60px; display:flex; align-items:center; padding:0 20px; z-index:1000; }
.menu-btn { background:none; border:none; cursor:pointer; font-size:28px; color:#00FFFF; text-shadow:0 0 8px #00FFFF; }

/* menu panel */
.menu { position:fixed; top:60px; left:-260px; width:260px; height:calc(100vh-60px); background:rgba(0,0,0,0.8); backdrop-filter:blur(8px); transition:left 0.3s ease; z-index:999; padding:20px; box-sizing:border-box; }
.menu.open { left:0; }

.menu-btns { list-style:none; padding:0; margin:0; }
.menu-btns li { margin-bottom:15px; position:relative; }

.menu-btns button.neon {
  width:100%; padding:12px; border:none; cursor:pointer; border-radius:6px;
  color:#00FFFF; background:rgba(0,255,255,0.05); text-align:left;
  font-weight:600; text-shadow:0 0 6px #00FFFF;
  transition:0.3s;
}
.menu-btns button.neon:hover { background:rgba(0,255,255,0.2); }

/* submenu */
.submenu { display:none; flex-direction:column; margin-top:5px; margin-left:10px; }
.submenu button { font-size:14px; padding:10px; border-radius:5px; background:rgba(0,255,255,0.05); width:calc(100% - 10px); text-align:left; margin-bottom:5px; }
.menu-btns li.showSub .submenu { display:flex; }

/* main wrap */
.wrap { max-width:760px; margin:100px auto; padding:26px; border-radius:14px; background:rgba(0,0,0,0.54); backdrop-filter:blur(5px); }
h1 { margin:0 0 16px 0; color:#00FFFF; font-size:22px; }
.note { color:#d7f0ff; font-size:14px; margin-bottom:14px; }
input[type=text], select { width:100%; padding:12px; border-radius:10px; border:none; background:rgba(255,255,255,0.03); color:#fff; font-size:14px; outline:2px solid transparent; margin-bottom:12px; }
input[type=text]:focus, select:focus { outline:2px solid rgba(0,255,255,0.2); }

.actions { display:flex; gap:10px; flex-wrap:wrap; margin-top:12px; }
.btn { background:#00FFFF; color:#000; border:none; padding:10px 14px; border-radius:10px; cursor:pointer; font-weight:700; }
.btn.secondary { background:transparent; border:1px solid rgba(255,255,255,0.06); }
.loading { color:#00FFFF; display:none; margin-top:12px; }

.result { margin-top:20px; display:none; }
.meta { margin-top:12px; color:#dfefff; font-size:14px; }
.history { margin-top:12px; border-top:1px solid rgba(255,255,255,0.2); padding-top:12px; max-height:300px; overflow-y:auto; }
.history-item { margin-bottom:8px; font-size:13px; }
.footer { margin-top:30px; text-align:center; font-size:12px; color:#ccc; }

</style>
</head>
<body>

<div class="background"></div>
<div class="overlay"></div>

<div class="header">
  <button class="menu-btn" id="menuToggle">â˜°</button>
</div>

<div class="menu" id="menu">
  <ul class="menu-btns">
    <li><button class="neon" onclick="window.location.href='index.html'">Home</button></li>
    <li><button class="neon" onclick="window.location.href='grupwa.html'">Grup WhatsApp</button></li>
  </ul>
</div>

<main class="wrap">
  <h1>ðŸ“¦ Cek Resi Paket</h1>
  <div class="note">Masukkan nomor resi dan pilih ekspedisi untuk mengecek status paket.</div>

  <input id="resiInput" type="text" placeholder="Masukkan nomor resi..." autocomplete="off" />
  <select id="expedition">
    <option value="shopee-express">Shopee Express</option>
    <option value="ninja">Ninja</option>
    <option value="lion-parcel">Lion Parcel</option>
    <option value="pos-indonesia">Pos Indonesia</option>
    <option value="tiki">Tiki</option>
    <option value="acommerce">Acommerce</option>
    <option value="gtl-goto-logistics">GTL Goto Logistics</option>
    <option value="paxel">Paxel</option>
    <option value="sap-express">SAP Express</option>
    <option value="indah-logistik-cargo">Indah Logistik Cargo</option>
    <option value="lazada-express-lex">Lazada Express</option>
    <option value="lazada-logistics">Lazada Logistics</option>
    <option value="janio-asia">Janio Asia</option>
    <option value="jet-express">Jet Express</option>
    <option value="pcp-express">PCP Express</option>
    <option value="pt-ncs">PT NCS</option>
    <option value="nss-express">NSS Express</option>
    <option value="grab-express">Grab Express</option>
    <option value="rcl-red-carpet-logistics">RCL Red Carpet Logistics</option>
    <option value="qrim-express">QRIM Express</option>
    <option value="ark-xpress">Ark Xpress</option>
    <option value="standard-express-lwe">Standard Express LWE</option>
    <option value="luar-negeri-beacukai">Luar Negeri / Bea Cukai</option>
  </select>

  <div class="actions">
    <button id="btnCheck" class="btn">Cek Resi</button>
    <button id="btnClear" class="btn secondary">Clear</button>
    <div id="loading" class="loading">Loadingâ€¦</div>
  </div>

  <section id="result" class="result">
    <div class="meta" id="meta"></div>
    <div class="history" id="history"></div>
  </section>

  <div class="footer">Â©2025 SteveMC Developer</div>
</main>

<script>
// Menu toggle
const menuToggle = document.getElementById('menuToggle');
const menu = document.getElementById('menu');
menuToggle.addEventListener('click', ()=>{ menu.classList.toggle('open'); });

// Submenu toggle
const featuresBtn = document.getElementById('featuresBtn');
featuresBtn.addEventListener('click', ()=>{ featuresBtn.parentElement.classList.toggle('showSub'); });

// Cek Resi
const resiInput = document.getElementById('resiInput');
const expedition = document.getElementById('expedition');
const btnCheck = document.getElementById('btnCheck');
const btnClear = document.getElementById('btnClear');
const loadingEl = document.getElementById('loading');
const resultEl = document.getElementById('result');
const metaEl = document.getElementById('meta');
const historyEl = document.getElementById('history');

const showLoading = (t=true)=>{ loadingEl.style.display = t ? 'inline-block' : 'none'; }
const showResult = (t=true)=>{ resultEl.style.display = t ? 'block' : 'none'; }
const clearResult = ()=>{
  showResult(false); metaEl.textContent=''; historyEl.innerHTML='';
}

btnClear.addEventListener('click', ()=>{ resiInput.value=''; clearResult(); });

btnCheck.addEventListener('click', async ()=>{
  const resi = resiInput.value.trim();
  const ekspedisi = expedition.value;
  if(!resi){ alert('Masukkan nomor resi dulu bro'); return; }
  clearResult(); showLoading(true);

  try{
    const api = `https://api.nekolabs.web.id/tools/cekresi?receipt_num=${encodeURIComponent(resi)}&expedition=${encodeURIComponent(ekspedisi)}`;
    const res = await fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(api)}`);
    const wrapper = await res.json();
    const data = JSON.parse(wrapper.contents);

    showLoading(false);

    if(data.success && data.result.success){
      metaEl.innerHTML = `<b>Status:</b> ${data.result.data.status} <br>
                          <b>Ekspedisi:</b> ${data.result.data.ekspedisi} <br>
                          <b>Resi:</b> ${data.result.data.resi} <br>
                          <b>Tanggal Kirim:</b> ${data.result.data.tanggalKirim}`;
      
      historyEl.innerHTML = '';
      data.result.data.history.forEach(h=>{
        const div = document.createElement('div');
        div.className='history-item';
        div.textContent = `${h.tanggal} â†’ ${h.keterangan}`;
        historyEl.appendChild(div);
      });

      showResult(true);
    } else {
      alert(data.result?.message || 'Gagal cek resi');
    }

  }catch(e){ showLoading(false); console.error(e); alert('Error fetch API'); }
});
</script>

</body>
</html>