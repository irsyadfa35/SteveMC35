<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Infinix TikTok Downloader - Village Theme</title>
<style>
body {
    font-family: 'Poppins', sans-serif;
    margin: 0;
    padding: 0;
    background: url('https://qu.ax/vneoG.jpg') no-repeat center center fixed;
    background-size: cover;
    color: #fff;
    overflow-x: hidden;
}
body::before {
    content:'';
    position:fixed;
    top:0; left:0; right:0; bottom:0;
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    background: rgba(0,0,0,0.4);
    z-index:-1;
}
.container {
    max-width: 700px;
    margin: 50px auto;
    padding: 25px;
    background: rgba(0,0,0,0.55);
    border-radius: 15px;
    text-align: center;
    box-shadow: 0 0 20px rgba(0,174,239,0.4);
}
h2 { color:#00AEEF; margin-bottom:20px; }
input[type=text] {
    width: 100%;
    padding:12px;
    border-radius:8px;
    border:none;
    margin-bottom:15px;
    font-size:1em;
}
button, .download-btn {
    padding:10px 15px;
    border:none;
    border-radius:8px;
    background:#00AEEF;
    color:#fff;
    cursor:pointer;
    margin:5px;
    text-decoration:none;
    display:inline-block;
    transition:0.3s;
}
button:hover, .download-btn:hover { background:#008CBA; }
.result { margin-top:25px; display:none; }
video { width:100%; border-radius:12px; margin:10px 0; }
.loading { display:none; font-size:1em; margin-top:10px; color:#00AEEF; }
.download-links { margin-top:20px; }
.download-links a {
    display:inline-block;
    padding:10px 20px;
    background:#00AEEF;
    color:#fff;
    text-decoration:none;
    border-radius:8px;
    margin:5px;
}
.download-links a:hover { background:#008CBA; }
</style>
</head>
<body>
<div class="container">
<h2>üéµ TikTok Downloader</h2>
<input type="text" id="tiktokUrl" placeholder="Masukkan link TikTok...">
<button id="downloadBtn">Download</button>
<div class="loading" id="loading">Sedang mengambil data...</div>

<div class="result" id="result">
    <video id="videoPlayer" controls></video>
    <div class="download-links" id="downloads"></div>
</div>
</div>

<script>
document.getElementById('downloadBtn').addEventListener('click', async ()=>{
    const url = document.getElementById('tiktokUrl').value.trim();
    if(!url) return alert('Masukkan URL TikTok dulu üòé');

    const resultDiv = document.getElementById('result');
    const videoPlayer = document.getElementById('videoPlayer');
    const downloadsDiv = document.getElementById('downloads');
    const loading = document.getElementById('loading');

    // Reset tampilan
    resultDiv.style.display='none';
    videoPlayer.src='';
    downloadsDiv.innerHTML='';
    loading.style.display='block';

    try{
        const apiUrl = `https://api.siputzx.my.id/api/d/tiktok?url=${encodeURIComponent(url)}`;
        const response = await fetch(apiUrl);
        const data = await response.json();
        loading.style.display='none';

        if(data.status){
            const videoUrl = data.data.urls[0];
            videoPlayer.src = videoUrl;
            resultDiv.style.display='block';

            // Tombol download Video
            const videoLink = document.createElement('a');
            videoLink.href = videoUrl;
            videoLink.textContent = '‚¨áÔ∏è Download Video';
            videoLink.target = '_blank';
            videoLink.className = 'download-btn';
            downloadsDiv.appendChild(videoLink);

            // Tombol download MP3
            if(data.data.music_info?.play_url){
                const mp3Link = document.createElement('a');
                mp3Link.href = data.data.music_info.play_url;
                mp3Link.textContent = '‚¨áÔ∏è Download MP3';
                mp3Link.target = '_blank';
                mp3Link.className = 'download-btn';
                downloadsDiv.appendChild(mp3Link);
            }

        } else {
            alert('Gagal mengambil data. Pastikan URL TikTok valid.');
        }
    }catch(err){
        loading.style.display='none';
        alert('Terjadi kesalahan: ' + err.message);
    }
});
</script>
</body>
</html>